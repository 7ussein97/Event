@using Event.Models
@model EventDetails
@{
    var theme = (Theme)ViewBag.Theme;
    ViewData["Title"] = "ØªÙØ§ØµÙŠÙ„ Ø¯Ø¹ÙˆØ© Ø§Ù„Ø²ÙØ§Ù";
}

<div class="create-page details-page">
    <!-- Animated Background -->
    <div class="page-bg">
        <div class="bg-gradient"></div>
        <div class="bg-particles"></div>
        <div class="bg-glow glow-1"></div>
        <div class="bg-glow glow-2"></div>
    </div>

    <div class="page-header">
        <a href="/create/theme" class="back-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M5 12H19M19 12L13 6M19 12L13 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØµÙ…ÙŠÙ…</span>
        </a>
        <div class="progress-bar">
            <div class="progress-step completed">
                <span class="step-dot">âœ“</span>
                <span class="step-label">Ø§Ù„ØªØµÙ…ÙŠÙ…</span>
            </div>
            <div class="progress-connector completed"><span class="connector-line"></span></div>
            <div class="progress-step active">
                <span class="step-dot"><span class="dot-pulse"></span></span>
                <span class="step-label">Ø§Ù„ØªÙØ§ØµÙŠÙ„</span>
            </div>
        </div>
    </div>

    <div class="details-container">
        <!-- Form Section -->
        <div class="form-section">
            <div class="section-header">
                <span class="theme-badge" style="background: linear-gradient(135deg, @theme.PrimaryColor, color-mix(in srgb, @theme.PrimaryColor 70%, #000));">
                    <span class="badge-icon">ğŸ’’</span>
                    <span>@theme.NameArabic</span>
                </span>
                <h1 class="section-title">ØªÙØ§ØµÙŠÙ„ Ø­ÙÙ„ Ø§Ù„Ø²ÙØ§Ù</h1>
                <p class="section-subtitle">Ø§Ù…Ù„Ø£ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ´Ø§Ù‡Ø¯ Ø¯Ø¹ÙˆØªÙƒ ØªØªØ­Ø±Ùƒ Ø£Ù…Ø§Ù… Ø¹ÙŠÙ†ÙŠÙƒ</p>
            </div>

            <form asp-action="Details" method="post" id="eventForm" class="event-form">
                @Html.AntiForgeryToken()
                <input type="hidden" asp-for="ThemeKey" />
                <input type="hidden" asp-for="EventType" />
                <input type="hidden" asp-for="Title" id="titleField" />

                <!-- Prayer/Blessing -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.1s">
                    <label asp-for="Prayer" class="form-label">
                        <span class="label-icon">ğŸ¤²</span>
                        <span class="label-text">Ø§Ù„Ø¯Ø¹Ø§Ø¡</span>
                    </label>
                    <input asp-for="Prayer" class="form-input" placeholder="Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù‡Ù…Ø§ ÙˆØ¨Ø§Ø±Ùƒ Ø¹Ù„ÙŠÙ‡Ù…Ø§ ÙˆØ§Ø¬Ù…Ø¹ Ø¨ÙŠÙ†Ù‡Ù…Ø§ ÙÙŠ Ø®ÙŠØ±" />
                    <span class="form-hint">Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù„Ù„Ø¹Ø±ÙˆØ³ÙŠÙ†</span>
                </div>

                <!-- Bride and Groom Names -->
                <div class="form-row animate-slide-in" style="animation-delay: 0.2s">
                    <div class="form-group">
                        <label asp-for="BrideName" class="form-label">
                            <span class="label-icon">ğŸ‘°</span>
                            <span class="label-text">Ø§Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ³</span>
                            <span class="required">*</span>
                        </label>
                        <input asp-for="BrideName" class="form-input" placeholder="Ù…Ø«Ø§Ù„: Ø³Ø§Ø±Ø©" />
                        <span asp-validation-for="BrideName" class="validation-message"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="GroomName" class="form-label">
                            <span class="label-icon">ğŸ¤µ</span>
                            <span class="label-text">Ø§Ø³Ù… Ø§Ù„Ø¹Ø±ÙŠØ³</span>
                            <span class="required">*</span>
                        </label>
                        <input asp-for="GroomName" class="form-input" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯" />
                        <span asp-validation-for="GroomName" class="validation-message"></span>
                    </div>
                </div>

                <!-- Inviter Name -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.3s">
                    <label asp-for="InviterName" class="form-label">
                        <span class="label-icon">ğŸ’Œ</span>
                        <span class="label-text">ØµØ§Ø­Ø¨ Ø§Ù„Ø¯Ø¹ÙˆØ©</span>
                        <span class="required">*</span>
                    </label>
                    <input asp-for="InviterName" class="form-input" placeholder="Ù…Ø«Ø§Ù„: Ø£Ù… Ø§Ù„Ø¹Ø±ÙˆØ³ / Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ÙÙ„Ø§Ù†ÙŠ" />
                    <span class="form-hint">Ù…Ù† ÙŠØ±Ø³Ù„ Ø§Ù„Ø¯Ø¹ÙˆØ© (Ù…Ø«Ù„: Ø£Ù… Ø§Ù„Ø¹Ø±ÙˆØ³ØŒ Ø¹Ø§Ø¦Ù„Ø©...)</span>
                    <span asp-validation-for="InviterName" class="validation-message"></span>
                </div>

                <!-- Guest Name -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.4s">
                    <label asp-for="GuestName" class="form-label">
                        <span class="label-icon">ğŸ¯</span>
                        <span class="label-text">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø¹Ùˆ</span>
                        <span class="optional-badge">Ø§Ø®ØªÙŠØ§Ø±ÙŠ</span>
                    </label>
                    <input asp-for="GuestName" class="form-input" placeholder="Ù„Ù„Ø¯Ø¹ÙˆØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©" />
                    <span class="form-hint">Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø¹Ø§Ù…Ø©</span>
                </div>

                <!-- Date and Time -->
                <div class="form-row animate-slide-in" style="animation-delay: 0.5s">
                    <div class="form-group">
                        <label asp-for="Date" class="form-label">
                            <span class="label-icon">ğŸ“…</span>
                            <span class="label-text">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²ÙØ§Ù</span>
                            <span class="required">*</span>
                        </label>
                        <input asp-for="Date" type="date" class="form-input" />
                        <span asp-validation-for="Date" class="validation-message"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Time" class="form-label">
                            <span class="label-icon">ğŸ•</span>
                            <span class="label-text">ÙˆÙ‚Øª Ø§Ù„Ø­ÙÙ„</span>
                            <span class="required">*</span>
                        </label>
                        <input asp-for="Time" type="time" class="form-input" />
                        <span asp-validation-for="Time" class="validation-message"></span>
                    </div>
                </div>

                <!-- Location -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.6s">
                    <label asp-for="Location" class="form-label">
                        <span class="label-icon">ğŸ“</span>
                        <span class="label-text">Ù…ÙƒØ§Ù† Ø§Ù„Ø­ÙÙ„</span>
                        <span class="required">*</span>
                    </label>
                    <input asp-for="Location" class="form-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¹Ø© Ø£Ùˆ Ø§Ù„ÙÙ†Ø¯Ù‚" />
                    <span asp-validation-for="Location" class="validation-message"></span>
                </div>

                <!-- Google Maps URL -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.7s">
                    <label asp-for="GoogleMapsUrl" class="form-label">
                        <span class="label-icon">ğŸ—ºï¸</span>
                        <span class="label-text">Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹</span>
                        <span class="optional-badge">Ø§Ø®ØªÙŠØ§Ø±ÙŠ</span>
                    </label>
                    <input asp-for="GoogleMapsUrl" class="form-input ltr-input" placeholder="https://maps.google.com/..." dir="ltr" />
                </div>

                <!-- Additional Message -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.8s">
                    <label asp-for="Message" class="form-label">
                        <span class="label-icon">ğŸ’¬</span>
                        <span class="label-text">Ø±Ø³Ø§Ù„Ø© Ø¥Ø¶Ø§ÙÙŠØ©</span>
                        <span class="optional-badge">Ø§Ø®ØªÙŠØ§Ø±ÙŠ</span>
                    </label>
                    <textarea asp-for="Message" class="form-input form-textarea" rows="2" 
                              placeholder="Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ© ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø¯Ø¹ÙˆØ©..."></textarea>
                </div>

                <!-- Closing Message -->
                <div class="form-group animate-slide-in" style="animation-delay: 0.9s">
                    <label asp-for="ClosingMessage" class="form-label">
                        <span class="label-icon">âœ¨</span>
                        <span class="label-text">Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®ØªØ§Ù…</span>
                    </label>
                    <input asp-for="ClosingMessage" class="form-input" placeholder="Ù†ØªØ´Ø±Ù Ø¨Ø­Ø¶ÙˆØ±ÙƒÙ… ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ†Ø§ ÙØ±Ø­ØªÙ†Ø§" />
                </div>

                <!-- YouTube Music -->
                <div class="form-group animate-slide-in" style="animation-delay: 1s">
                    <label asp-for="YouTubeUrl" class="form-label">
                        <span class="label-icon">ğŸµ</span>
                        <span class="label-text">Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©</span>
                        <span class="optional-badge">Ø§Ø®ØªÙŠØ§Ø±ÙŠ</span>
                    </label>
                    <input asp-for="YouTubeUrl" class="form-input ltr-input" placeholder="https://www.youtube.com/watch?v=..." dir="ltr" />
                    <span class="form-hint">Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ - Ø³ØªØ¹Ù…Ù„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ø¯Ø¹ÙˆØ©</span>
                </div>

                <button type="submit" class="submit-btn animate-slide-in" style="animation-delay: 1.1s">
                    <span class="btn-gradient"></span>
                    <span class="btn-content">
                        <span class="btn-icon">ğŸ’’</span>
                        <span class="btn-text">Ø¥Ù†Ø´Ø§Ø¡ Ø¯Ø¹ÙˆØ© Ø§Ù„Ø²ÙØ§Ù</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L13 6M19 12L13 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                </button>
            </form>
        </div>

        <!-- Live Preview Section -->
        <div class="preview-section">
            <div class="preview-header">
                <span class="preview-badge">
                    <span class="live-dot"></span>
                    <span>Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…Ø¨Ø§Ø´Ø±Ø©</span>
                </span>
            </div>

            <div class="preview-frame" id="previewFrame">
                <div class="preview-invitation" 
                     style="--theme-primary: @theme.PrimaryColor; 
                            --theme-secondary: @theme.SecondaryColor; 
                            --theme-bg: @theme.BackgroundColor; 
                            --theme-text: @theme.TextColor;
                            --theme-accent: @theme.AccentColor;
                            --theme-font: @theme.Font, serif;
                            background-color: @theme.BackgroundColor;">
                    
                    <!-- Animated Background -->
                    @if (theme.HasPattern)
                    {
                        <div class="preview-pattern @theme.PatternStyle"></div>
                    }
                    
                    <div class="preview-glow"></div>
                    
                    <!-- Content -->
                    <div class="preview-invitation-content">
                        <!-- Prayer -->
                        <div class="preview-prayer stagger-fade" id="previewPrayer">
                            ğŸ¤² Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù‡Ù…Ø§ ÙˆØ¨Ø§Ø±Ùƒ Ø¹Ù„ÙŠÙ‡Ù…Ø§ ÙˆØ§Ø¬Ù…Ø¹ Ø¨ÙŠÙ†Ù‡Ù…Ø§ ÙÙŠ Ø®ÙŠØ±
                        </div>

                        <div class="preview-divider-small stagger-fade">
                            <span class="divider-dot"></span>
                            <span class="divider-line-small"></span>
                            <span class="divider-sparkle">âœ¦</span>
                            <span class="divider-line-small"></span>
                            <span class="divider-dot"></span>
                        </div>

                        <!-- Couple Names -->
                        <div class="preview-couple stagger-fade">
                            <span class="bride-name" id="previewBride">Ø§Ù„Ø¹Ø±ÙˆØ³</span>
                            <span class="couple-heart">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                            </span>
                            <span class="groom-name" id="previewGroom">Ø§Ù„Ø¹Ø±ÙŠØ³</span>
                        </div>

                        <div class="preview-divider stagger-fade">
                            <span class="divider-line"></span>
                            <span class="divider-icon">ğŸ’’</span>
                            <span class="divider-line"></span>
                        </div>

                        <!-- Invitation Text -->
                        <div class="preview-invitation-text stagger-fade">
                            <p>Ø¨ÙƒÙ„ Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„Ø­Ø¨ ÙˆØ§Ù„Ù…ÙˆØ¯Ø©</p>
                            <p>ØªØªØ´Ø±Ù <span id="previewInviter">ØµØ§Ø­Ø¨ Ø§Ù„Ø¯Ø¹ÙˆØ©</span></p>
                            <p>Ø¨Ø¯Ø¹ÙˆØªÙƒÙ… Ù„Ø­Ø¶ÙˆØ± Ø­ÙÙ„ Ø²ÙØ§Ù</p>
                        </div>

                        <!-- Details -->
                        <div class="preview-details stagger-fade">
                            <div class="detail-row">
                                <span class="detail-icon">ğŸ“…</span>
                                <span class="detail-text" id="previewDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-icon">ğŸ•</span>
                                <span class="detail-text" id="previewTime">Ø§Ù„ÙˆÙ‚Øª</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-icon">ğŸ“</span>
                                <span class="detail-text" id="previewLocation">Ø§Ù„Ù…ÙƒØ§Ù†</span>
                            </div>
                        </div>

                        <!-- Message -->
                        <div class="preview-message stagger-fade" id="previewMessage"></div>

                        <!-- Closing -->
                        <div class="preview-closing stagger-fade" id="previewClosing">
                            Ù†ØªØ´Ø±Ù Ø¨Ø­Ø¶ÙˆØ±ÙƒÙ… ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ†Ø§ ÙØ±Ø­ØªÙ†Ø§
                        </div>

                        <!-- Decorative Elements -->
                        <div class="preview-ornament-bottom">
                            <svg viewBox="0 0 100 20" class="ornament-svg">
                                <path d="M0 10 Q25 20 50 10 Q75 0 100 10" stroke="currentColor" fill="none" stroke-width="1"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
<style>
    /* Global Animations */
    @@keyframes slideInRight {
        from {
            opacity: 0;
            transform: translateX(-30px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @@keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @@keyframes pulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
    }
    
    @@keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
    }
    
    @@keyframes heartBeat {
        0%, 100% { transform: scale(1); }
        14% { transform: scale(1.3); }
        28% { transform: scale(1); }
        42% { transform: scale(1.3); }
        70% { transform: scale(1); }
    }
    
    @@keyframes shimmer {
        0% { background-position: -200% center; }
        100% { background-position: 200% center; }
    }
    
    @@keyframes glowPulse {
        0%, 100% { opacity: 0.3; }
        50% { opacity: 0.6; }
    }

    /* Page Structure */
    .details-page {
        min-height: 100vh;
        position: relative;
    }
    
    .page-bg {
        position: fixed;
        inset: 0;
        z-index: 0;
        pointer-events: none;
    }
    
    .page-bg .bg-gradient {
        position: absolute;
        inset: 0;
        background: 
            radial-gradient(ellipse 80% 50% at 50% 0%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
            linear-gradient(180deg, #0a0a12 0%, #0f0a15 50%, #1a0f1f 100%);
    }
    
    .page-bg .bg-particles {
        position: absolute;
        inset: 0;
        background-image: 
            radial-gradient(circle at 25% 35%, rgba(212, 175, 55, 0.02) 1px, transparent 1px),
            radial-gradient(circle at 75% 65%, rgba(232, 180, 184, 0.02) 1px, transparent 1px);
        background-size: 60px 60px;
        animation: float 25s ease-in-out infinite;
    }
    
    .page-bg .bg-glow {
        position: absolute;
        border-radius: 50%;
        filter: blur(120px);
    }
    
    .page-bg .glow-1 {
        width: 500px;
        height: 500px;
        background: rgba(212, 175, 55, 0.08);
        top: -100px;
        right: -100px;
        animation: float 20s ease-in-out infinite;
    }
    
    .page-bg .glow-2 {
        width: 400px;
        height: 400px;
        background: rgba(232, 180, 184, 0.06);
        bottom: -100px;
        left: -100px;
        animation: float 25s ease-in-out infinite;
        animation-delay: -10s;
    }
    
    /* Header */
    .details-page .page-header {
        position: relative;
        z-index: 10;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        padding: 2rem;
    }
    
    @@media (min-width: 768px) {
        .details-page .page-header {
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }
    }
    
    .back-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
        transition: all 0.3s ease;
        text-decoration: none;
    }
    
    .back-link:hover {
        color: #D4AF37;
        transform: translateX(5px);
    }
    
    .progress-bar {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .progress-step {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
    }
    
    .step-dot {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        position: relative;
        transition: all 0.4s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
    }
    
    .progress-step.active .step-dot,
    .progress-step.completed .step-dot {
        background: #D4AF37;
        border-color: #D4AF37;
        box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
        color: #0f0a15;
        font-weight: bold;
    }
    
    .dot-pulse {
        position: absolute;
        inset: -6px;
        border-radius: 50%;
        border: 2px solid #D4AF37;
        animation: pulse 2s ease-in-out infinite;
    }
    
    .step-label {
        font-size: 0.75rem;
        color: rgba(255, 255, 255, 0.4);
        transition: color 0.3s ease;
    }
    
    .progress-step.active .step-label,
    .progress-step.completed .step-label {
        color: #D4AF37;
    }
    
    .progress-connector {
        width: 60px;
        height: 2px;
        margin-bottom: 1.5rem;
    }
    
    .connector-line {
        display: block;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 1px;
        position: relative;
    }
    
    .progress-connector.completed .connector-line {
        background: #D4AF37;
        box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
    }
    
    /* Container */
    .details-container {
        position: relative;
        z-index: 10;
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
        padding: 0 2rem 4rem;
        max-width: 1600px;
        margin: 0 auto;
    }
    
    @@media (min-width: 1024px) {
        .details-container {
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }
    }
    
    /* Form Section */
    .form-section {
        background: linear-gradient(145deg, rgba(30, 25, 40, 0.7) 0%, rgba(20, 15, 30, 0.85) 100%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(212, 175, 55, 0.1);
        border-radius: 28px;
        padding: 2.5rem;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    .section-header {
        text-align: center;
        margin-bottom: 2.5rem;
    }
    
    .theme-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        color: #0f0a15;
        margin-bottom: 1.5rem;
        box-shadow: 0 8px 24px rgba(212, 175, 55, 0.3);
    }
    
    .badge-icon {
        font-size: 1.2rem;
        animation: float 3s ease-in-out infinite;
    }
    
    .section-title {
        font-family: 'Amiri', serif;
        font-size: 2rem;
        color: #fff;
        margin-bottom: 0.75rem;
        background: linear-gradient(135deg, #fff 0%, #D4AF37 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .section-subtitle {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.6);
        line-height: 1.6;
    }
    
    /* Form Animations */
    .animate-slide-in {
        animation: slideInRight 0.6s ease-out backwards;
    }
    
    /* Form Elements */
    .event-form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    
    .form-group {
        display: flex;
        flex-direction: column;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    @@media (min-width: 640px) {
        .form-row {
            grid-template-columns: 1fr 1fr;
        }
    }
    
    .form-label {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 1rem;
        font-weight: 500;
        color: #fff;
        margin-bottom: 0.75rem;
    }
    
    .label-icon {
        font-size: 1.1rem;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
    }
    
    .label-text {
        flex: 1;
    }
    
    .required {
        color: #EF4444;
        font-size: 1.1rem;
    }
    
    .optional-badge {
        padding: 0.2rem 0.6rem;
        background: rgba(59, 130, 246, 0.1);
        border: 1px solid rgba(59, 130, 246, 0.2);
        border-radius: 12px;
        font-size: 0.7rem;
        color: #60A5FA;
        font-weight: 600;
    }
    
    .form-input {
        width: 100%;
        padding: 1rem 1.25rem;
        background: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(10px);
        border: 1.5px solid rgba(255, 255, 255, 0.1);
        border-radius: 14px;
        color: #fff;
        font-size: 1rem;
        font-family: inherit;
        transition: all 0.3s ease;
    }
    
    .form-input:focus {
        outline: none;
        border-color: #D4AF37;
        box-shadow: 0 0 0 4px rgba(212, 175, 55, 0.1);
        background: rgba(0, 0, 0, 0.4);
    }
    
    .form-input::placeholder {
        color: rgba(255, 255, 255, 0.3);
    }
    
    .form-textarea {
        resize: vertical;
        min-height: 80px;
        line-height: 1.6;
    }
    
    .ltr-input {
        direction: ltr;
        text-align: left;
    }
    
    .form-hint {
        display: block;
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.4);
        margin-top: 0.5rem;
    }
    
    .validation-message {
        display: block;
        color: #EF4444;
        font-size: 0.85rem;
        margin-top: 0.5rem;
    }
    
    /* Submit Button */
    .submit-btn {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        background: transparent;
        border: none;
        border-radius: 14px;
        cursor: pointer;
        overflow: hidden;
        margin-top: 1rem;
        transition: transform 0.3s ease;
    }
    
    .submit-btn:hover {
        transform: translateY(-2px);
    }
    
    .btn-gradient {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, #D4AF37 0%, #B8860B 50%, #D4AF37 100%);
        background-size: 200% 200%;
        animation: shimmer 3s linear infinite;
    }
    
    .btn-content {
        position: relative;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        width: 100%;
        padding: 1.25rem 2rem;
        color: #0f0a15;
        font-size: 1.1rem;
        font-weight: 700;
        font-family: inherit;
    }
    
    .btn-icon {
        font-size: 1.3rem;
        animation: float 3s ease-in-out infinite;
    }
    
    .submit-btn:hover .btn-gradient {
        filter: brightness(1.1);
    }
    
    .submit-btn:active {
        transform: translateY(0);
    }

    /* Preview Section */
    .preview-section {
        position: sticky;
        top: 2rem;
        height: fit-content;
    }
    
    .preview-header {
        display: flex;
        justify-content: center;
        margin-bottom: 1.5rem;
    }
    
    .preview-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1.5rem;
        background: rgba(212, 175, 55, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(212, 175, 55, 0.2);
        border-radius: 50px;
        font-size: 0.95rem;
        color: #D4AF37;
    }
    
    .live-dot {
        width: 10px;
        height: 10px;
        background: #10B981;
        border-radius: 50%;
        box-shadow: 0 0 10px #10B981;
        animation: pulse 2s ease-in-out infinite;
    }
    
    /* Preview Frame */
    .preview-frame {
        background: linear-gradient(145deg, rgba(26, 26, 42, 0.9) 0%, rgba(18, 18, 26, 0.95) 100%);
        border-radius: 24px;
        padding: 1.25rem;
        border: 2px solid rgba(212, 175, 55, 0.15);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.4);
    }
    
    .preview-invitation {
        border-radius: 20px;
        min-height: 550px;
        position: relative;
        overflow: hidden;
        padding: 2rem 1.5rem;
    }
    
    .preview-pattern {
        position: absolute;
        inset: 0;
        opacity: 0.1;
    }
    
    .preview-pattern.geometric-gold {
        background-image: 
            linear-gradient(30deg, var(--theme-primary) 12%, transparent 12.5%, transparent 87%, var(--theme-primary) 87.5%),
            linear-gradient(150deg, var(--theme-primary) 12%, transparent 12.5%, transparent 87%, var(--theme-primary) 87.5%);
        background-size: 40px 70px;
    }
    
    .preview-pattern.floating-petals {
        background-image: 
            radial-gradient(circle at 20% 30%, var(--theme-primary) 6px, transparent 6px),
            radial-gradient(circle at 80% 50%, var(--theme-primary) 4px, transparent 4px),
            radial-gradient(circle at 40% 70%, var(--theme-primary) 8px, transparent 8px);
        background-size: 100px 100px;
        animation: float 8s ease-in-out infinite;
        filter: blur(4px);
    }
    
    .preview-pattern.starry-shimmer {
        background-image: 
            radial-gradient(circle at 15% 20%, var(--theme-primary) 1px, transparent 1px),
            radial-gradient(circle at 85% 30%, var(--theme-primary) 2px, transparent 2px),
            radial-gradient(circle at 50% 60%, var(--theme-primary) 1px, transparent 1px);
        background-size: 100px 100px;
        animation: pulse 4s ease-in-out infinite;
    }
    
    .preview-pattern.aurora-gradient {
        background: linear-gradient(135deg, var(--theme-primary), var(--theme-accent), var(--theme-primary));
        background-size: 200% 200%;
        animation: shimmer 8s ease-in-out infinite;
    }
    
    .preview-pattern.gentle-flow {
        background: radial-gradient(ellipse at top, var(--theme-primary) 0%, transparent 50%),
                    radial-gradient(ellipse at bottom, var(--theme-accent) 0%, transparent 50%);
        animation: float 10s ease-in-out infinite;
        filter: blur(40px);
    }
    
    .preview-glow {
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
            circle at center,
            color-mix(in srgb, var(--theme-primary) 15%, transparent) 0%,
            transparent 50%
        );
        animation: glowPulse 6s ease-in-out infinite;
        pointer-events: none;
    }
    
    /* Preview Content */
    .preview-invitation-content {
        position: relative;
        z-index: 1;
        text-align: center;
        font-family: var(--theme-font);
        color: var(--theme-text);
    }
    
    .stagger-fade {
        animation: fadeInUp 0.6s ease-out backwards;
    }
    
    .stagger-fade:nth-child(1) { animation-delay: 0.1s; }
    .stagger-fade:nth-child(2) { animation-delay: 0.2s; }
    .stagger-fade:nth-child(3) { animation-delay: 0.3s; }
    .stagger-fade:nth-child(4) { animation-delay: 0.4s; }
    .stagger-fade:nth-child(5) { animation-delay: 0.5s; }
    .stagger-fade:nth-child(6) { animation-delay: 0.6s; }
    .stagger-fade:nth-child(7) { animation-delay: 0.7s; }
    .stagger-fade:nth-child(8) { animation-delay: 0.8s; }
    
    .preview-prayer {
        font-size: 0.95rem;
        color: var(--theme-primary);
        margin-bottom: 1rem;
        line-height: 1.8;
        opacity: 0.9;
    }
    
    .preview-divider-small {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        margin-bottom: 1.5rem;
        color: var(--theme-primary);
        opacity: 0.6;
    }
    
    .divider-dot {
        width: 4px;
        height: 4px;
        background: currentColor;
        border-radius: 50%;
    }
    
    .divider-line-small {
        width: 30px;
        height: 1px;
        background: currentColor;
    }
    
    .divider-sparkle {
        font-size: 0.8rem;
        animation: pulse 2s ease-in-out infinite;
    }
    
    .preview-couple {
        margin-bottom: 1.5rem;
    }
    
    .bride-name, .groom-name {
        display: block;
        font-family: 'Amiri', serif;
        font-size: 2rem;
        font-weight: 700;
        color: var(--theme-primary);
        text-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);
    }
    
    .couple-heart {
        display: block;
        color: var(--theme-accent);
        margin: 0.5rem 0;
        animation: heartBeat 2s ease-in-out infinite;
    }
    
    .couple-heart svg {
        width: 28px;
        height: 28px;
    }
    
    .preview-divider {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        margin: 1.5rem 0;
        color: var(--theme-primary);
    }
    
    .divider-line {
        width: 50px;
        height: 1px;
        background: currentColor;
        opacity: 0.5;
    }
    
    .divider-icon {
        font-size: 1.5rem;
        animation: float 4s ease-in-out infinite;
    }
    
    .preview-invitation-text {
        font-size: 0.9rem;
        line-height: 2;
        margin-bottom: 1.5rem;
        opacity: 0.9;
    }
    
    .preview-invitation-text span {
        color: var(--theme-primary);
        font-weight: 600;
    }
    
    .preview-details {
        margin-bottom: 1.5rem;
    }
    
    .detail-row {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        opacity: 0.85;
    }
    
    .detail-icon {
        font-size: 1rem;
    }
    
    .preview-message {
        background: color-mix(in srgb, var(--theme-primary) 8%, transparent);
        border: 1px solid color-mix(in srgb, var(--theme-primary) 15%, transparent);
        padding: 1rem;
        border-radius: 12px;
        font-size: 0.85rem;
        margin-bottom: 1.5rem;
        display: none;
        font-style: italic;
    }
    
    .preview-message.show {
        display: block;
    }
    
    .preview-closing {
        font-size: 0.95rem;
        color: var(--theme-primary);
        font-weight: 600;
        margin-bottom: 1.5rem;
    }
    
    .preview-ornament-bottom {
        margin-top: 1rem;
        color: var(--theme-primary);
        opacity: 0.4;
    }
    
    .ornament-svg {
        width: 100px;
        height: 20px;
    }

    /* Responsive */
    @@media (max-width: 1024px) {
        .preview-section {
            position: relative;
            top: 0;
        }
    }
    
    @@media (max-width: 768px) {
        .form-section {
            padding: 1.5rem;
        }
        
        .section-title {
            font-size: 1.5rem;
        }
        
        .bride-name, .groom-name {
            font-size: 1.75rem;
        }
        
        .preview-invitation {
            min-height: 480px;
            padding: 1.5rem 1rem;
        }
    }
    
    @@media (max-width: 480px) {
        .details-container {
            padding: 0 1rem 3rem;
        }
        
        .form-section {
            padding: 1.25rem;
            border-radius: 20px;
        }
        
        .form-input {
            padding: 0.875rem 1rem;
        }
    }
</style>
}

@section Scripts {
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Form inputs
        const prayerInput = document.querySelector('[name="Prayer"]');
        const brideInput = document.querySelector('[name="BrideName"]');
        const groomInput = document.querySelector('[name="GroomName"]');
        const inviterInput = document.querySelector('[name="InviterName"]');
        const dateInput = document.querySelector('[name="Date"]');
        const timeInput = document.querySelector('[name="Time"]');
        const locationInput = document.querySelector('[name="Location"]');
        const messageInput = document.querySelector('[name="Message"]');
        const closingInput = document.querySelector('[name="ClosingMessage"]');
        const titleField = document.getElementById('titleField');

        // Preview elements
        const previewPrayer = document.getElementById('previewPrayer');
        const previewBride = document.getElementById('previewBride');
        const previewGroom = document.getElementById('previewGroom');
        const previewInviter = document.getElementById('previewInviter');
        const previewDate = document.getElementById('previewDate');
        const previewTime = document.getElementById('previewTime');
        const previewLocation = document.getElementById('previewLocation');
        const previewMessage = document.getElementById('previewMessage');
        const previewClosing = document.getElementById('previewClosing');

        // Arabic formatting
        const arabicMonths = ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ', 
                              'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'];
        const arabicDays = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];

        function formatArabicDate(dateStr) {
            if (!dateStr) return 'Ø§Ù„ØªØ§Ø±ÙŠØ®';
            const date = new Date(dateStr);
            if (isNaN(date)) return 'Ø§Ù„ØªØ§Ø±ÙŠØ®';
            return `${arabicDays[date.getDay()]}ØŒ ${date.getDate()} ${arabicMonths[date.getMonth()]} ${date.getFullYear()}`;
        }

        function formatTime(timeStr) {
            if (!timeStr) return 'Ø§Ù„ÙˆÙ‚Øª';
            const [hours, minutes] = timeStr.split(':');
            const hour = parseInt(hours);
            const ampm = hour >= 12 ? 'Ù…Ø³Ø§Ø¡Ù‹' : 'ØµØ¨Ø§Ø­Ø§Ù‹';
            const hour12 = hour % 12 || 12;
            return `${hour12}:${minutes} ${ampm}`;
        }

        function updatePreview() {
            // Update prayer
            if (previewPrayer) {
                previewPrayer.textContent = 'ğŸ¤² ' + (prayerInput.value || 'Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù‡Ù…Ø§ ÙˆØ¨Ø§Ø±Ùƒ Ø¹Ù„ÙŠÙ‡Ù…Ø§ ÙˆØ§Ø¬Ù…Ø¹ Ø¨ÙŠÙ†Ù‡Ù…Ø§ ÙÙŠ Ø®ÙŠØ±');
            }
            
            // Update couple names
            if (previewBride) previewBride.textContent = brideInput.value || 'Ø§Ù„Ø¹Ø±ÙˆØ³';
            if (previewGroom) previewGroom.textContent = groomInput.value || 'Ø§Ù„Ø¹Ø±ÙŠØ³';
            
            // Update inviter
            if (previewInviter) previewInviter.textContent = inviterInput.value || 'ØµØ§Ø­Ø¨ Ø§Ù„Ø¯Ø¹ÙˆØ©';
            
            // Update date and time
            if (previewDate) previewDate.textContent = formatArabicDate(dateInput.value);
            if (previewTime) previewTime.textContent = formatTime(timeInput.value);
            
            // Update location
            if (previewLocation) previewLocation.textContent = locationInput.value || 'Ø§Ù„Ù…ÙƒØ§Ù†';
            
            // Update closing
            if (previewClosing) previewClosing.textContent = closingInput.value || 'Ù†ØªØ´Ø±Ù Ø¨Ø­Ø¶ÙˆØ±ÙƒÙ… ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ†Ø§ ÙØ±Ø­ØªÙ†Ø§';
            
            // Update message
            if (previewMessage) {
                if (messageInput.value) {
                    previewMessage.textContent = messageInput.value;
                    previewMessage.classList.add('show');
                } else {
                    previewMessage.classList.remove('show');
                }
            }

            // Auto-generate title
            const bride = brideInput.value || 'Ø§Ù„Ø¹Ø±ÙˆØ³';
            const groom = groomInput.value || 'Ø§Ù„Ø¹Ø±ÙŠØ³';
            if (titleField) {
                titleField.value = `Ø­ÙÙ„ Ø²ÙØ§Ù ${bride} Ùˆ ${groom}`;
            }
        }

        // Add event listeners
        const inputs = [prayerInput, brideInput, groomInput, inviterInput, dateInput, timeInput, locationInput, messageInput, closingInput];
        inputs.forEach(input => {
            if (input) {
                input.addEventListener('input', updatePreview);
            }
        });

        // Initial update
        updatePreview();
        
        // Add focus effects
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('focus', function() {
                this.closest('.form-group')?.classList.add('focused');
            });
            input.addEventListener('blur', function() {
                this.closest('.form-group')?.classList.remove('focused');
            });
        });
    });
</script>
}